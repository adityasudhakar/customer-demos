<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400" preserveAspectRatio="xMidYMid meet">
    <defs>
        <style>
            @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
            @keyframes slideIn { from { transform: translateX(20px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
            
            .message1 { animation: slideIn 0.5s ease-out both; }
            .message2 { animation: slideIn 0.5s ease-out both; }
            .message3 { animation: slideIn 0.5s ease-out both; }
            .message4 { animation: slideIn 0.5s ease-out both; }
            .message5 { animation: slideIn 0.5s ease-out both; }
            
            .replay-circle {
                cursor: pointer;
                transition: fill 0.2s;
            }
            .replay-circle:hover {
                fill: #357ABD;
            }
            
            text {
                font-size: 14px;
            }
            .code-text {
                font-size: 12px;
            }
            
            @media screen and (max-width: 600px) {
                text {
                    font-size: 12px;
                }
                .code-text {
                    font-size: 10px;
                }
            }
        </style>
        
        <script type="text/javascript"><![CDATA[
            function restartAnimations() {
                const elements = document.querySelectorAll('.message1, .message2, .message3, .message4, .message5');
                elements.forEach((el, index) => {
                    el.style.animation = 'none';
                    el.offsetHeight; // Trigger reflow
                    el.style.animation = `slideIn 0.5s ease-out both ${index}s`;
                });
            }
        ]]></script>
    </defs>

    <!-- Background -->
    <rect width="800" height="400" fill="#f0f0f0"/>
    
    <!-- UI Panel -->
    <g transform="scale(0.95) translate(21, 21)">
        <rect width="360" height="360" rx="10" fill="white" stroke="#ddd"/>
        <text x="10" y="25" fill="#666" font-family="Arial">User Interface</text>
        
        <!-- User content group -->
        <g transform="translate(10, 40)">
            <g class="message1">
                <rect width="240" height="40" rx="20" fill="#e1e1e1"/>
                <text x="15" y="25" font-family="Arial">Show me total revenue by month</text>
            </g>
            
            <g class="message2">
                <rect y="50" width="320" height="100" rx="5" fill="#e6ffe6"/>
                <text font-family="monospace" fill="#006600" class="code-text">
                    <tspan x="10" y="70">SELECT DATE_FORMAT(order_date, '%Y-%m')</tspan>
                    <tspan x="10" y="90">AS month, SUM(price) AS revenue</tspan>
                    <tspan x="10" y="110">FROM orders GROUP BY month</tspan>
                    <tspan x="10" y="130">Success: Results displayed below</tspan>
                </text>
            </g>
            
            <g class="message3">
                <rect y="160" width="320" height="80" rx="5" fill="#fff3e0"/>
                <text font-family="Arial" fill="#663c00">
                    <tspan x="10" y="180">Warning: Flag as Incorrect</tspan>
                    <tspan x="10" y="205" font-size="12">Reason: Should include tax in revenue</tspan>
                    <tspan x="10" y="225" font-size="12">Status: Flagged - Admin Notified</tspan>
                </text>
            </g>
        </g>
    </g>
    
    <!-- Admin Panel -->
    <g transform="scale(0.95) translate(442, 21)">
        <rect width="360" height="360" rx="10" fill="white" stroke="#ddd"/>
        <text x="10" y="25" fill="#666" font-family="Arial">Admin Dashboard</text>
        
        <!-- Admin content group -->
        <g transform="translate(10, 40)">
            <g class="message4">
                <rect width="340" height="140" rx="5" fill="#fff3e0"/>
                <text font-family="Arial" fill="#663c00">
                    <tspan x="10" y="25">Query Flagged by User</tspan>
                    <tspan x="10" y="50" class="code-text">Current Query:</tspan>
                    <tspan x="10" y="70" class="code-text">SELECT DATE_FORMAT(order_date, '%Y-%m')</tspan>
                    <tspan x="10" y="90" class="code-text">AS month, SUM(price) AS revenue</tspan>
                    <tspan x="10" y="110" class="code-text">FROM orders GROUP BY month</tspan>
                    <tspan x="10" y="130" class="code-text">Issue: Tax not included in revenue calc</tspan>
                </text>
            </g>
            
            <g class="message5">
                <rect y="150" width="340" height="140" rx="5" fill="#e3f2fd"/>
                <text font-family="Arial" fill="#0d47a1">
                    <tspan x="10" y="175">Correction Required</tspan>
                    <tspan x="10" y="200" class="code-text">Updated Query:</tspan>
                    <tspan x="10" y="220" class="code-text">SELECT DATE_FORMAT(order_date, '%Y-%m')</tspan>
                    <tspan x="10" y="240" class="code-text">AS month, SUM(price + tax) AS revenue</tspan>
                    <tspan x="10" y="260" class="code-text">FROM orders GROUP BY month</tspan>
                </text>
            </g>
        </g>
    </g>
    
    <!-- Replay Button -->
    <g transform="translate(380, 370)">
        <circle class="replay-circle" cx="20" cy="20" r="15" 
                fill="#4A90E2" 
                onclick="restartAnimations()"
        />
        <!-- Replay icon -->
        <path d="M20,12 A8,8 0 1,1 14,14 L17,17 M17,11 L17,17 L11,17" 
              stroke="white" 
              fill="none" 
              stroke-width="2"
              transform="translate(12, 12)"
        />
    </g>
</svg>
